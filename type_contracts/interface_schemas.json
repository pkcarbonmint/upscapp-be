{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Onboarding Interface Schemas",
  "description": "Type definitions for interface compatibility across Elm, Python, and Haskell layers",
  "version": "1.0.0",
  "schemaVersion": "2025-01-15",
  "compatibility": {
    "elm": ">=0.19.1",
    "python": ">=3.10",
    "haskell": ">=9.10"
  },
  
  "definitions": {
    "BackgroundInput": {
      "type": "object",
      "required": ["name", "phone", "email", "city", "state", "graduation_stream", "college", "graduation_year", "about"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100
        },
        "phone": {
          "type": "string",
          "pattern": "^[0-9+()\\-\\s]+$",
          "minLength": 7,
          "maxLength": 20
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "city": {
          "type": "string",
          "minLength": 1
        },
        "state": {
          "type": "string",
          "minLength": 1
        },
        "graduation_stream": {
          "type": "string",
          "minLength": 1
        },
        "college": {
          "type": "string",
          "minLength": 1
        },
        "graduation_year": {
          "type": "integer",
          "minimum": 1990,
          "maximum": 2030
        },
        "about": {
          "type": "string"
        }
      }
    },
    
    "TargetInput": {
      "type": "object",
      "required": ["target_year"],
      "properties": {
        "target_year": {
          "type": "integer",
          "minimum": 2024,
          "maximum": 2030
        },
        "attempt_number": {
          "type": ["integer", "null"],
          "minimum": 1,
          "maximum": 10
        },
        "optional_subjects": {
          "type": ["array", "null"],
          "items": {
            "type": "string"
          }
        },
        "study_approach": {
          "type": ["string", "null"]
        }
      }
    },
    
    "CommitmentInput": {
      "type": "object",
      "required": ["weekly_hours"],
      "properties": {
        "weekly_hours": {
          "type": "integer",
          "minimum": 0,
          "maximum": 168
        },
        "available_days": {
          "type": ["array", "null"],
          "items": {
            "type": "string",
            "enum": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]
          }
        },
        "constraints": {
          "type": ["string", "null"]
        }
      }
    },
    
    "ConfidenceInput": {
      "type": "object",
      "required": ["confidence"],
      "properties": {
        "confidence": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100
        },
        "areas_of_concern": {
          "type": ["array", "null"],
          "items": {
            "type": "string"
          }
        }
      }
    },
    
    "HeliosUIWizardData": {
      "type": "object",
      "required": [
        "personal_and_academic_details",
        "preparation_background", 
        "coaching_and_mentorship",
        "optional_subject_details",
        "test_series_and_csat",
        "syllabus_and_pyq_awareness",
        "subject_confidence",
        "study_strategy"
      ],
      "properties": {
        "personal_and_academic_details": {
          "$ref": "#/definitions/UIPersonalDetails"
        },
        "preparation_background": {
          "$ref": "#/definitions/UIPreparationBackground"
        },
        "subject_confidence": {
          "$ref": "#/definitions/UISubjectConfidence"
        },
        "study_strategy": {
          "$ref": "#/definitions/UIStudyStrategy"
        }
      }
    },
    
    "UIPersonalDetails": {
      "type": "object",
      "required": ["full_name", "email", "phone_number", "present_location", "graduation_stream", "college_university", "year_of_passing"],
      "properties": {
        "full_name": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "phone_number": {"type": "string"},
        "present_location": {"type": "string"},
        "current_status": {"type": "string"},
        "graduation_stream": {"type": "string"},
        "college_university": {"type": "string"},
        "year_of_passing": {"type": "integer"}
      }
    },
    
    "UISubjectConfidence": {
      "type": "object",
      "required": ["prelims_confidence", "mains_gs1_confidence", "mains_gs2_confidence", "mains_gs3_confidence", "mains_gs4_optional_confidence"],
      "properties": {
        "prelims_confidence": {
          "$ref": "#/definitions/UIPrelimsConfidence"
        },
        "mains_gs1_confidence": {
          "$ref": "#/definitions/UIMainsGS1Confidence"
        },
        "mains_gs2_confidence": {
          "$ref": "#/definitions/UIMainsGS2Confidence"
        },
        "mains_gs3_confidence": {
          "$ref": "#/definitions/UIMainsGS3Confidence"
        },
        "mains_gs4_optional_confidence": {
          "$ref": "#/definitions/UIMainsGS4Confidence"
        }
      }
    },
    
    "UIPrelimsConfidence": {
      "type": "object",
      "properties": {
        "prelims_current_events": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_history_of_india": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_indian_world_geography": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_polity_governance": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_economy_social_development": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_environment_ecology": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_science_technology": {"$ref": "#/definitions/ConfidenceLevel"},
        "prelims_csat": {"$ref": "#/definitions/ConfidenceLevel"}
      }
    },
    
    "ConfidenceLevel": {
      "type": "string",
      "enum": ["Not Started", "Very Weak", "Weak", "Moderate", "Strong", "Very Strong"]
    }
  }
}
